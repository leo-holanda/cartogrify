<p-toast></p-toast>

<main>
  <section class="title-wrapper">
    <h1>Explore the origins of the music you love</h1>
  </section>
  <section>
    <div class="options-wrapper">
      <div>
        <button
          pButton
          [disabled]="hasInitiatedLogin"
          (click)="onSpotifyButtonClick()"
          class="option-button spotify-option"
        >
          <i *ngIf="hasInitiatedLogin" class="bx bx-loader-alt bx-spin"></i>
          Log in with Spotify
        </button>
      </div>
      <div>
        <div>
          <button
            pButton
            [disabled]="hasInitiatedLogin"
            (click)="onLastfmButtonClick()"
            class="option-button lastfm-option"
          >
            Log in with Last.fm
          </button>
        </div>

        <p-dialog
          header="Enter your Last.fm username"
          [(visible)]="hasClickedLastFmButton"
          [breakpoints]="{ '768px': '87vw' }"
          [style]="{ width: '35rem' }"
          [modal]="true"
          (onHide)="onLastfmUsernameDialogHide()"
        >
          <input
            type="text"
            pInputText
            id="username"
            name="username"
            placeholder="myusername"
            class="username-input"
            [(ngModel)]="lastFmUsername"
          />
          <button
            pButton
            pRipple
            [disabled]="lastFmUsername.length == 0"
            (click)="onLastfmStartButtonClick()"
            class="username-input-button p-button-lg"
          >
            <i *ngIf="hasClickedLastFmStartButton" class="bx bx-loader-alt bx-spin"></i>
            Start
          </button>
        </p-dialog>
      </div>
    </div>
  </section>
</main>
